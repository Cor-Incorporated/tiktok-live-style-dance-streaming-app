# レスポンシブデザイン テストガイド

## 実装した改善点

### 1. ✅ 縦幅が狭いスマホでの表示対応

以下の対応を実装しました：

- **フォントサイズの調整**: 小さい画面用に `text-xs` や `text-sm` などのレスポンシブなフォントサイズを使用
- **パディングの最適化**: `p-1.5 sm:p-2` など、小さい画面ではパディングを削減
- **最小高さの設定**: 各チャートに `min-h-[100px]` を設定し、コンテンツが極端に圧縮されるのを防止
- **スクロール機能**: AI分析画面に `overflow-y-auto` を追加し、縦幅が狭い場合でもスクロールで全コンテンツを表示可能

### 2. ✅ 横画面・縦画面のレイアウト切り替え

配信者モード（StreamerMode）で以下を実装：

- **縦画面**: `portrait:flex-col` - 上にカメラ、下にAI分析画面
- **横画面**: `landscape:flex-row` - 左にカメラ、右にAI分析画面

Tailwind CSSの `orientation` メディアクエリを使用して自動切り替えを実現。

## テスト方法

### A. デスクトップブラウザでのテスト

1. 開発サーバーを起動:
```bash
npm run dev
```

2. ブラウザの開発者ツールを開く（F12）

3. デバイスツールバーを有効にする（Ctrl+Shift+M / Cmd+Shift+M）

4. 以下のデバイスプリセットでテスト:
   - **iPhone SE (375×667)** - 小さい縦画面
   - **iPhone 12 Pro (390×844)** - 標準的な縦画面
   - **iPhone 14 Pro Max (430×932)** - 大きい縦画面

5. デバイスを横向きに回転して横画面表示をテスト

### B. 実機でのテスト

1. 開発サーバーを起動し、ローカルIPアドレスを確認:
```bash
npm run dev
# サーバーは 0.0.0.0:3000 で起動します
```

2. 同じWi-Fiネットワークに接続したスマホから以下にアクセス:
```
http://[あなたのPC のIPアドレス]:3000
```

3. テストシナリオ:

#### 縦画面テスト
- ダッシュボードからライブ配信を開始
- カメラが上半分に表示されることを確認
- AI分析画面が下半分に表示されることを確認
- 分析画面がスクロール可能であることを確認
- 全てのチャート（Score、感情分析、投げ銭、コメント統計、アクションアドバイス）が読みやすいサイズで表示されることを確認

#### 横画面テスト
- 配信画面でスマホを横向きにする
- カメラが左半分に表示されることを確認
- AI分析画面が右半分に表示されることを確認
- 分析画面がスクロール可能であることを確認
- 全てのコンテンツが横画面でも適切に配置されることを確認

#### 小さい画面テスト
- 古い/小さいiPhone（SE、6s等）でテスト
- フォントが小さすぎず読めることを確認
- ボタンが十分にタップしやすいサイズであることを確認
- コンテンツがはみ出していないことを確認

### C. 視聴者モードのテスト

視聴者モード（ViewerMode）は以下を確認:

- 縦画面・横画面の両方でフルスクリーン表示
- コメント入力欄と投げ銭ボタンが常に下部に表示
- UIコントロールが小さい画面でも操作しやすいサイズ
- コメントポップアップが適切に表示

## 対応したブレークポイント

- **デフォルト**: ~640px未満（小さいスマホ）
- **sm**: 640px以上（標準的なスマホ）
- **portrait**: 縦向き画面
- **landscape**: 横向き画面

## 確認すべきポイント

### ✅ 縦画面
- [ ] カメラビューが上50%を占めている
- [ ] AI分析画面が下50%を占めている
- [ ] 分析画面がスクロール可能
- [ ] 全てのチャートが縦に並んでいる
- [ ] フォントサイズが適切

### ✅ 横画面
- [ ] カメラビューが左50%を占めている
- [ ] AI分析画面が右50%を占めている
- [ ] 分析画面がスクロール可能
- [ ] 全てのチャートが見やすく配置されている

### ✅ 小さい画面
- [ ] コンテンツがはみ出していない
- [ ] フォントが読める大きさ
- [ ] ボタンがタップしやすい
- [ ] パディングが適切で窮屈に見えない

## トラブルシューティング

### 横画面に切り替わらない場合

1. ブラウザの自動回転が有効になっているか確認
2. `index.html` の Tailwind 設定が正しく読み込まれているか確認
3. ブラウザのキャッシュをクリアして再読み込み

### コンテンツが小さすぎる/大きすぎる場合

各コンポーネントの `text-[size]` や `p-[size]` クラスを調整してください。
現在のブレークポイント設定:
- デフォルト（小）→ `sm:`（大）

### スクロールができない場合

`StreamerMode.tsx` の分析画面部分に `overflow-y-auto` が設定されているか確認してください。

## 技術詳細

### 実装したクラス例

```tsx
// 縦/横画面の切り替え
className="flex portrait:flex-col landscape:flex-row"

// レスポンシブなサイズ
className="portrait:h-1/2 landscape:w-1/2"

// レスポンシブなフォント
className="text-xs sm:text-sm"

// レスポンシブなパディング
className="p-2 sm:p-4"

// 最小高さの設定
className="min-h-[100px]"

// スクロール有効化
className="overflow-y-auto"
```

### 追加した Tailwind 設定

`index.html` に以下を追加:

```javascript
tailwind.config = {
  theme: {
    extend: {
      screens: {
        'portrait': {'raw': '(orientation: portrait)'},
        'landscape': {'raw': '(orientation: landscape)'}
      }
    }
  }
}
```

これにより、`portrait:` と `landscape:` プレフィックスが使用可能になります。

